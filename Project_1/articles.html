<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مقاله‌ها | عطرستان</title>
    <meta name="description" content="مقالات آموزشی و تخصصی درباره عطر و ادکلن">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;200;300;400;500;600;700;800;900&display=swap" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Prevent FOUC -->
    <style>
        body {
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        body.loaded {
            opacity: 1;
        }
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease-in-out;
        }
        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loadingScreen">
        <div class="loading-spinner"></div>
    </div>

    <div id="site-header"></div>

    <!-- Articles Hero Section -->
    <section class="articles-hero">
        <div class="container">
            <div class="articles-hero-content">
                <h1 class="articles-hero-title">مقاله‌های تخصصی</h1>
                <p class="articles-hero-subtitle">آخرین مقالات و راهنمای‌های تخصصی درباره عطر و ادکلن</p>
                
                <!-- Article Search -->
                <div class="article-search">
                    <input type="text" placeholder="جستجو در مقاله‌ها..." id="articleSearchInput">
                    <button type="button" class="article-search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Articles Categories -->
    <section class="article-categories">
        <div class="container">
            <div class="category-buttons">
                <button class="category-btn active" data-category="all">همه (۱۲)</button>
                <button class="category-btn" data-category="guide">راهنما (۵)</button>
                <button class="category-btn" data-category="review">بررسی (۴)</button>
                <button class="category-btn" data-category="tips">نکات (۳)</button>
            </div>
        </div>
    </section>

    <!-- Articles Grid -->
    <section class="articles-section">
        <div class="container">
            <div class="articles-grid" id="articlesGrid">
                <!-- Articles will be loaded here by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Popular Articles -->
    <section class="popular-articles">
        <div class="container">
            <h2 class="section-title">مقاله‌های محبوب</h2>
            <div class="popular-articles-grid">
                <div class="popular-article-card">
                    <div class="popular-article-image">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="popular-article-content">
                        <h3>چگونه عطر مناسب خود را انتخاب کنیم؟</h3>
                        <p>راهنمای کامل انتخاب عطر بر اساس شخصیت و سلیقه شما</p>
                        <div class="article-meta">
                            <span class="article-date">۲ روز پیش</span>
                            <span class="article-views">۱,۲۴۷ بازدید</span>
                        </div>
                    </div>
                </div>
                
                <div class="popular-article-card">
                    <div class="popular-article-image">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="popular-article-content">
                        <h3>تفاوت عطر مردانه و زنانه</h3>
                        <p>آشنایی با ویژگی‌های منحصر به فرد عطرهای مردانه و زنانه</p>
                        <div class="article-meta">
                            <span class="article-date">۱ هفته پیش</span>
                            <span class="article-views">۸۹۲ بازدید</span>
                        </div>
                    </div>
                </div>
                
                <div class="popular-article-card">
                    <div class="popular-article-image">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="popular-article-content">
                        <h3>نحوه نگهداری صحیح عطر</h3>
                        <p>راهنمای نگهداری عطر برای حفظ کیفیت و ماندگاری</p>
                        <div class="article-meta">
                            <span class="article-date">۲ هفته پیش</span>
                            <span class="article-views">۶۵۴ بازدید</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="site-footer"></div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>سبد خرید</h3>
            <button class="close-cart" id="closeCart">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Cart items will be loaded here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>مجموع:</span>
                <span id="cartTotal">۰ تومان</span>
            </div>
            <button class="checkout-btn">نهایی کردن خرید</button>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cartOverlay"></div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>


    <!-- Floating Cart Button (Mobile) -->
    <button class="fab-cart" id="fabCartBtn" aria-label="سبد خرید">
        <i class="fas fa-shopping-cart"></i>
    </button>

    <!-- JavaScript -->
    <script src="common.js" defer></script>
    <script src="script.js" defer></script>
    <script src="articles.js" defer></script>
    <script>
        // Prevent FOUC and handle loading
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading screen and show content
            const loadingScreen = document.getElementById('loadingScreen');
            const body = document.body;
            
            if (loadingScreen) {
                loadingScreen.classList.add('hidden');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 300);
            }
            
            body.classList.add('loaded');
        });
        
        // Fallback if DOMContentLoaded doesn't fire
        window.addEventListener('load', function() {
            const loadingScreen = document.getElementById('loadingScreen');
            const body = document.body;
            
            if (loadingScreen) {
                loadingScreen.classList.add('hidden');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 300);
            }
            
            body.classList.add('loaded');
        });
        
        // Error handling for failed resources
        window.addEventListener('error', function(e) {
            console.error('Resource failed to load:', e.target.src || e.target.href);
        });
    </script>
</body>
</html>